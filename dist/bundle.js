/******/ (function(modules) { // webpackBootstrap
/******/ 	// The module cache
/******/ 	var installedModules = {};
/******/
/******/ 	// The require function
/******/ 	function __webpack_require__(moduleId) {
/******/
/******/ 		// Check if module is in cache
/******/ 		if(installedModules[moduleId]) {
/******/ 			return installedModules[moduleId].exports;
/******/ 		}
/******/ 		// Create a new module (and put it into the cache)
/******/ 		var module = installedModules[moduleId] = {
/******/ 			i: moduleId,
/******/ 			l: false,
/******/ 			exports: {}
/******/ 		};
/******/
/******/ 		// Execute the module function
/******/ 		modules[moduleId].call(module.exports, module, module.exports, __webpack_require__);
/******/
/******/ 		// Flag the module as loaded
/******/ 		module.l = true;
/******/
/******/ 		// Return the exports of the module
/******/ 		return module.exports;
/******/ 	}
/******/
/******/
/******/ 	// expose the modules object (__webpack_modules__)
/******/ 	__webpack_require__.m = modules;
/******/
/******/ 	// expose the module cache
/******/ 	__webpack_require__.c = installedModules;
/******/
/******/ 	// define getter function for harmony exports
/******/ 	__webpack_require__.d = function(exports, name, getter) {
/******/ 		if(!__webpack_require__.o(exports, name)) {
/******/ 			Object.defineProperty(exports, name, { enumerable: true, get: getter });
/******/ 		}
/******/ 	};
/******/
/******/ 	// define __esModule on exports
/******/ 	__webpack_require__.r = function(exports) {
/******/ 		if(typeof Symbol !== 'undefined' && Symbol.toStringTag) {
/******/ 			Object.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });
/******/ 		}
/******/ 		Object.defineProperty(exports, '__esModule', { value: true });
/******/ 	};
/******/
/******/ 	// create a fake namespace object
/******/ 	// mode & 1: value is a module id, require it
/******/ 	// mode & 2: merge all properties of value into the ns
/******/ 	// mode & 4: return value when already ns object
/******/ 	// mode & 8|1: behave like require
/******/ 	__webpack_require__.t = function(value, mode) {
/******/ 		if(mode & 1) value = __webpack_require__(value);
/******/ 		if(mode & 8) return value;
/******/ 		if((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;
/******/ 		var ns = Object.create(null);
/******/ 		__webpack_require__.r(ns);
/******/ 		Object.defineProperty(ns, 'default', { enumerable: true, value: value });
/******/ 		if(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));
/******/ 		return ns;
/******/ 	};
/******/
/******/ 	// getDefaultExport function for compatibility with non-harmony modules
/******/ 	__webpack_require__.n = function(module) {
/******/ 		var getter = module && module.__esModule ?
/******/ 			function getDefault() { return module['default']; } :
/******/ 			function getModuleExports() { return module; };
/******/ 		__webpack_require__.d(getter, 'a', getter);
/******/ 		return getter;
/******/ 	};
/******/
/******/ 	// Object.prototype.hasOwnProperty.call
/******/ 	__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };
/******/
/******/ 	// __webpack_public_path__
/******/ 	__webpack_require__.p = "";
/******/
/******/
/******/ 	// Load entry module and return exports
/******/ 	return __webpack_require__(__webpack_require__.s = "./src/main.js");
/******/ })
/************************************************************************/
/******/ ({

/***/ "./src/js/board.js":
/*!*************************!*\
  !*** ./src/js/board.js ***!
  \*************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _bubble__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./bubble */ \"./src/js/bubble.js\");\n\n\nvar ADJ_DIFFS = [[[1, 0], [0, 1], [-1, 1], [-1, 0], [-1, -1], [0, -1]],\n                        [[1, 0], [1, 1], [0, 1], [-1, 0], [0, -1], [1, -1]]];\n\nclass Board {\n    constructor(game, ctx) {\n        this.bubbles = [];\n        this.bubbleShooter = null;\n        this.nextShooterBubble = null;\n        this.ctx = ctx;\n        this.game = game;\n        this.bananaCount = 0;\n        this.rows = 5;\n        this.columns = 11;\n        this.bubbleDiameter = 40;\n        this.colors = ['red', 'orange', 'yellow', 'green', 'seagreen', 'blue', 'purple', 'pink'];\n        this.bubbleShooterX = 235;\n        this.bubbleShooterY = 570;\n        this.nextShooterX = 110;\n        this.nextShooterY = 580;\n        this.clusterCount = 0;\n        this.tempClusters = [];\n        this.foundClusters = [];\n        this.populate();\n        window.bubbles = this.bubbles;\n    }\n\n    loadBubblesImage() {\n        this.image = new Image();\n        this.image.src = \"assets/images/bubbles.png\";\n        this.image.sprites = {};\n        const board = this;\n        this.image.onload = () => {\n            for (let i = 0; i < 8; i++) {\n                board.image.sprites[board.colors[i]] = ({ x: i * 42, y: 0, w: 40, h: 40 });\n            }\n            board.drawBubbles();\n            board.drawBubbleShooter();\n            board.game.ready = true;\n        }\n    }\n\n    loadInitialGame() {\n        this.loadBubblesImage();\n        this.drawScore(0);\n        this.drawMoveCount();\n    }\n\n    populate() {\n        for(let i=0; i < this.rows; i++) {\n            this.bubbles[i] = [];\n            for(let j=0; j< this.columns; j++) {\n                let newBubble = new _bubble__WEBPACK_IMPORTED_MODULE_0__[\"default\"]('bubble',null, null, null, i , j);\n                let dim = newBubble.getBubbleDimensions(i, j);\n                newBubble.x = dim.x;\n                newBubble.y = dim.y;\n                this.bubbles[i].push(newBubble);\n            }\n        }\n        this.placeRandomBananas();\n    }\n\n    drawBubbles() {\n        for (let i = 0; i < this.bubbles.length; i++) {\n            for (let j = 0; j < this.columns; j++) {\n                if(this.bubbles[i][j] && this.bubbles[i][j].removed === false) {\n                    const bubble = this.bubbles[i][j];\n                    if(bubble.type === 'banana') {\n                        bubble.drawBanana(this.ctx);\n                        this.bananaCount += 1;\n                    } else {\n                        bubble.draw(this.ctx, this.image);\n                    }\n                }\n            }\n        }\n    }\n\n    drawBubbleShooter() {\n        if (!this.bubbleShooter) {\n            if (this.nextShooterBubble) {\n                this.bubbleShooter = this.nextShooterBubble;\n                this.bubbleShooter.x = this.bubbleShooterX;\n                this.bubbleShooter.y = this.bubbleShooterY;\n            } else {\n                this.bubbleShooter = new _bubble__WEBPACK_IMPORTED_MODULE_0__[\"default\"](\n                                            'shooter', \n                                            this.bubbleShooterX, \n                                            this.bubbleShooterY, \n                                            this.selectRandomBubble(this.rows - 1).color);\n            }\n            this.nextShooterBubble = new _bubble__WEBPACK_IMPORTED_MODULE_0__[\"default\"](\n                'shooter',\n                this.nextShooterX,\n                this.nextShooterY,\n                this.selectRandomBubble(this.rows - 1).color);\n            this.nextShooterBubble.draw(this.ctx, this.image);\n        }\n        this.bubbleShooter.draw(this.ctx, this.image);\n    }\n\n    drawMoveCount() {\n        document.getElementById(\"moves-val\").innerHTML = this.game.movesAllowed - this.game.currentMoveCount;\n    }\n\n    drawScore(score) {\n        document.getElementById(\"score-val\").innerHTML = score != undefined ? score : this.calculateScore();\n    }\n\n    calculateScore() {\n        let score = this.clusterCount*10;\n        if (this.game.bananaTarget - this.bananaCount > 0) {\n            score += ((this.game.bananaTarget - this.bananaCount) * 20);\n        }\n        return score;\n    }\n\n    render() {\n        this.ctx.clearRect(0, 0, 640, 500);\n        this.drawBubbles();\n        this.drawMoveCount();\n        this.drawScore();\n    }\n\n    checkCollision() {\n        const shooterX = this.bubbleShooter.x;\n        const shooterY = this.bubbleShooter.y;\n        const allBubbles = this.bubbles.flat();\n        for (let i = 0; i < allBubbles.length; i++) {\n            if (allBubbles[i].removed === false && this.checkTwoBubblesIntersection(allBubbles[i], { x: shooterX, y: shooterY })) {\n                this.resetBubbles();\n                return true;\n            }\n        }\n        return false;\n    }\n\n    resetBubbles() {\n        const grid = this.getClosestValidPosition(this.bubbleShooter);\n        const dim = this.bubbleShooter.getBubbleDimensions(grid.row, grid.col);\n        const newBubble = new _bubble__WEBPACK_IMPORTED_MODULE_0__[\"default\"]('bubble', dim.x, dim.y, this.bubbleShooter.color, grid.row, grid.col);\n        this.bubbles[grid.row] = this.bubbles[grid.row] ? this.bubbles[grid.row] : [];\n        this.bubbles[grid.row][grid.col] = newBubble;\n        this.removeAllMatchingBubbles(grid, newBubble.color);\n        if (this.clusterCount > 2) {\n            this.removeAllLooseBubbles();\n        }\n        this.render();\n    }\n\n    checkTwoBubblesIntersection(bubble1, bubble2) {\n        const dx = bubble1.x - bubble2.x;\n        const dy = bubble1.y - bubble2.y;\n        const distance = Math.sqrt(dx * dx + dy * dy);\n        if (distance < (this.bubbleDiameter)) {\n            return true;\n        }\n        return false;\n    }\n\n    // 70 - 1 0\n    //110 - 2 40\n    //150 - 3 80   \n    //190 - 4 120\n    //230 - 5 160\n    //270 - 6 200\n    //260 - 6 \n    //\n\n//70 + 40*row = x\n//0-90 - 1\n//90-130 -2\n//130-170-3\n//170-210 - 4\n    getClosestValidPosition(bubble) {\n        const x = bubble.x;\n        const y = bubble.y;\n        const row = Math.floor((y) / this.bubbleDiameter);\n        const rowOffset = (row%2 === 1) ? this.bubbleDiameter/2 : 0;\n        const col = Math.floor((x - rowOffset) / this.bubbleDiameter);\n        let result = { row: row - 1, col };\n        if (this.bubbles[row - 1] && this.bubbles[row - 1][col] && this.bubbles[row-1][col].removed === false) {\n            result = this.getOtherPossiblePosition(row-1, col) || result;\n        }\n        return result;\n    }\n\n    getOtherPossiblePosition(currentRow, currentCol) {\n        const rowType = (currentRow) % 2;\n        const possibilities = ADJ_DIFFS[rowType];\n\n        for (let i = 0; i < possibilities.length; i++) {\n            const col = currentCol + possibilities[i][0];\n            const row = currentRow + possibilities[i][1];\n\n            if (col >= 0 && col < this.columns && row >= 0) {\n                if ((!this.bubbles[row]) || !this.bubbles[row][col] || \n                    (this.bubbles[row][col] && this.bubbles[row][col].removed === true)) {\n                    return {row, col};\n                }\n            }\n        }\n\n        // if (!this.bubbles[row][col - 1] && this.bubbles[row][col - 1].removed === false) { //0,-1\n        //     return {row: row, col: col-1};\n        // } else if (!this.bubbles[row][col + 1] && this.bubbles[row][col + 1].removed === false) {  //0,1\n        //     return { row: row, col: col + 1 };\n        // } else if (!this.bubbles[row + 1][col] && !this.bubbles[row + 1][col].removed === false) { //1,0\n        //     return { row: row+1, col: col };\n        // } else if (!this.bubbles[row + 1][col - 1] && !this.bubbles[row + 1][col - 1].removed === false) { //1,-1\n        //     return { row: row+1, col: col - 1 };\n        // } else if (!this.bubbles[row + 1][col + 1] && !this.bubbles[row + 1][col + 1].removed === false) { //1,1\n        //     return { row: row+1, col: col + 1 };\n        // }\n    }\n\n    getAllAdjacentBubbles(bubble) {\n        var rowType = (bubble.row) % 2;\n        var neighbors = [];\n        var possibilities = ADJ_DIFFS[rowType];\n        for (var i = 0; i < possibilities.length; i++) {\n            var col = bubble.col + possibilities[i][0];\n            var row = bubble.row + possibilities[i][1];\n\n            if (col >= 0 && col < this.columns && row >= 0 && row < this.bubbles.length) {\n                if (this.bubbles[row] && this.bubbles[row][col] && this.bubbles[row][col].removed === false) {\n                    neighbors.push(this.bubbles[row][col]);\n                }\n            }\n        }\n\n        return neighbors;\n    }\n\n    removeAllMatchingBubbles(grid, color) {\n        const rowType = (grid.row) % 2;\n        const possibilities = ADJ_DIFFS[rowType];\n        for (let i = 0; i < possibilities.length; i++) {\n            const col = grid.col + possibilities[i][0];\n            const row = grid.row + possibilities[i][1];\n            if (col >= 0 && col < this.columns && row >= 0 && row < this.bubbles.length) {\n                if(this.bubbles[row] && this.bubbles[row][col]) {\n                    const adjBubble = this.bubbles[row][col];\n                    if ((adjBubble.type === 'banana' || adjBubble.color === color) \n                        && adjBubble.removed === false && !this.checkObjectinArray(this.tempClusters, {row, col})) {\n                        this.clusterCount += 1;\n                        if (this.clusterCount < 3) {\n                            if (this.bubbles[grid.row][grid.col].removed == false) {\n                                this.clusterCount += 1;\n                                this.tempClusters.push({row: grid.row, col: grid.col});\n                            }\n                            this.tempClusters.push({ row, col});\n                        } else {\n                            if(this.tempClusters.length >= 2) {\n                                for (let i = 0; i< this.tempClusters.length; i++) {\n                                    const clusterGrid = this.tempClusters[i];\n                                    this.bubbles[clusterGrid.row][clusterGrid.col].removed = true;\n                                }\n                                this.tempClusters = [];\n                            }\n                            this.bubbles[grid.row][grid.col].removed = true;\n                            this.bubbles[row][col].removed = true;\n                        }\n                        this.removeAllMatchingBubbles({row, col}, color);\n                    }\n                }\n            }\n        }\n    }\n\n    checkObjectinArray(array, obj) {\n        return array.some((val) => {\n            return (val.row === obj.row && val.col === obj.col);\n        })\n    }\n\n    removeAllLooseBubbles() {\n        for (let i = this.bubbles.length - 1; i >= 0; i--) {\n            for (let j = 0; j < this.columns; j++) {\n                if (this.bubbles[i] && this.bubbles[i][j] && this.bubbles[i][j].removed === false) {\n                    const bubble = this.bubbles[i][j];\n                    if (!this.foundClusters.includes(`${bubble.row}-${bubble.col}`)) {\n                        this.findBubbleTree(bubble.row, bubble.col);\n                    }\n                }\n            }\n        }\n    }\n\n    //BFS using queue\n    findBubbleTree(row, col) {\n        let allNodes = [this.bubbles[row][col]];\n        let bubbleTree = [];\n        let processed = [];\n        let looseBubble = true;\n        while (allNodes.length > 0) {\n            const currentNode = allNodes.shift();\n            if (!processed.includes(currentNode)) {\n                processed.push(currentNode);\n                if (currentNode.row === 0) {\n                    looseBubble = false;\n                }\n                this.foundClusters.push(`${currentNode.row}-${currentNode.col}`);\n                allNodes = allNodes.concat(this.getAllAdjacentBubbles(currentNode));\n                bubbleTree.push(currentNode);\n            }\n        }\n        if (looseBubble) {\n            this.markLooseBubbles(bubbleTree);\n        }\n        return bubbleTree;\n    }\n\n    markLooseBubbles(bubbles) {\n        for(let i=0; i < bubbles.length; i++) {\n            this.bubbles[bubbles[i].row][bubbles[i].col].removed = true;\n        }\n    }\n\n    selectRandomBubble(rowStart = 0, rowEnd = this.rows, colStart = 0, colEnd = this.columns) {\n        const sampleData = this.getSelectedBubbles(rowStart, rowEnd, colStart, colEnd);\n        return sampleData[Math.floor(Math.random() * sampleData.length)];\n    }\n\n    getSelectedBubbles(rowStart = 0, rowEnd = this.rows, colStart = 0, colEnd = this.columns) {\n        let sampleData = [];\n        for (let i = rowStart; i < rowEnd; i++) {\n            for (let j = colStart; j < colEnd; j++) {\n                sampleData.push(this.bubbles[i][j]);\n            }\n        }\n        return sampleData;\n    }\n\n    placeRandomBananas() {\n        for (let i = 0; i < this.game.bananaTarget; i++) {\n            const bananaRow = Math.floor(Math.random() * this.rows);\n            const bananaCol = Math.floor(Math.random() * this.columns);\n            const banana = new _bubble__WEBPACK_IMPORTED_MODULE_0__[\"default\"]('banana');\n            const dim = banana.getBubbleDimensions(bananaRow, bananaCol);\n            banana.x = dim.x;\n            banana.y = dim.y;\n            banana.row = bananaRow;\n            banana.col = bananaCol;\n            this.bubbles[bananaRow][bananaCol] = banana;\n        }\n    }\n}\n\n/* harmony default export */ __webpack_exports__[\"default\"] = (Board);//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zcmMvanMvYm9hcmQuanM/MzkwZiJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTtBQUFBO0FBQThCOztBQUU5QjtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDJCQUEyQixPQUFPO0FBQ2xDLHlEQUF5RCxnQ0FBZ0M7QUFDekY7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQSxvQkFBb0IsZUFBZTtBQUNuQztBQUNBLHdCQUF3QixpQkFBaUI7QUFDekMsb0NBQW9DLCtDQUFNO0FBQzFDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQSx1QkFBdUIseUJBQXlCO0FBQ2hELDJCQUEyQixrQkFBa0I7QUFDN0M7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHFCQUFxQjtBQUNyQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsYUFBYTtBQUNiLHlDQUF5QywrQ0FBTTtBQUMvQztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EseUNBQXlDLCtDQUFNO0FBQy9DO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQSx1QkFBdUIsdUJBQXVCO0FBQzlDLG9HQUFvRywyQkFBMkI7QUFDL0g7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBLDhCQUE4QiwrQ0FBTTtBQUNwQztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxzQkFBc0I7QUFDdEI7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUEsdUJBQXVCLDBCQUEwQjtBQUNqRDtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBLDRCQUE0QjtBQUM1QjtBQUNBO0FBQ0E7O0FBRUEsNkZBQTZGO0FBQzdGLHVCQUF1QjtBQUN2QixZQUFZLHdGQUF3RjtBQUNwRyx1QkFBdUI7QUFDdkIsWUFBWSx5RkFBeUY7QUFDckcsdUJBQXVCO0FBQ3ZCLFlBQVksaUdBQWlHO0FBQzdHLHVCQUF1QjtBQUN2QixZQUFZLGlHQUFpRztBQUM3Ryx1QkFBdUI7QUFDdkI7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHVCQUF1QiwwQkFBMEI7QUFDakQ7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQSx1QkFBdUIsMEJBQTBCO0FBQ2pEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHVHQUF1RyxTQUFTO0FBQ2hIO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esd0RBQXdELDZCQUE2QjtBQUNyRjtBQUNBLG9EQUFvRCxVQUFVO0FBQzlELHlCQUF5QjtBQUN6QjtBQUNBLCtDQUErQyw2QkFBNkI7QUFDNUU7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHVEQUF1RCxTQUFTO0FBQ2hFO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUOztBQUVBO0FBQ0EsNkNBQTZDLFFBQVE7QUFDckQsMkJBQTJCLGtCQUFrQjtBQUM3QztBQUNBO0FBQ0Esd0RBQXdELFdBQVcsR0FBRyxXQUFXO0FBQ2pGO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDJDQUEyQyxnQkFBZ0IsR0FBRyxnQkFBZ0I7QUFDOUU7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0Esb0JBQW9CLG9CQUFvQjtBQUN4QztBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBLDhCQUE4QixZQUFZO0FBQzFDLGtDQUFrQyxZQUFZO0FBQzlDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQSx1QkFBdUIsNEJBQTRCO0FBQ25EO0FBQ0E7QUFDQSwrQkFBK0IsK0NBQU07QUFDckM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVlLG9FQUFLIiwiZmlsZSI6Ii4vc3JjL2pzL2JvYXJkLmpzLmpzIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IEJ1YmJsZSBmcm9tICcuL2J1YmJsZSc7XG5cbnZhciBBREpfRElGRlMgPSBbW1sxLCAwXSwgWzAsIDFdLCBbLTEsIDFdLCBbLTEsIDBdLCBbLTEsIC0xXSwgWzAsIC0xXV0sXG4gICAgICAgICAgICAgICAgICAgICAgICBbWzEsIDBdLCBbMSwgMV0sIFswLCAxXSwgWy0xLCAwXSwgWzAsIC0xXSwgWzEsIC0xXV1dO1xuXG5jbGFzcyBCb2FyZCB7XG4gICAgY29uc3RydWN0b3IoZ2FtZSwgY3R4KSB7XG4gICAgICAgIHRoaXMuYnViYmxlcyA9IFtdO1xuICAgICAgICB0aGlzLmJ1YmJsZVNob290ZXIgPSBudWxsO1xuICAgICAgICB0aGlzLm5leHRTaG9vdGVyQnViYmxlID0gbnVsbDtcbiAgICAgICAgdGhpcy5jdHggPSBjdHg7XG4gICAgICAgIHRoaXMuZ2FtZSA9IGdhbWU7XG4gICAgICAgIHRoaXMuYmFuYW5hQ291bnQgPSAwO1xuICAgICAgICB0aGlzLnJvd3MgPSA1O1xuICAgICAgICB0aGlzLmNvbHVtbnMgPSAxMTtcbiAgICAgICAgdGhpcy5idWJibGVEaWFtZXRlciA9IDQwO1xuICAgICAgICB0aGlzLmNvbG9ycyA9IFsncmVkJywgJ29yYW5nZScsICd5ZWxsb3cnLCAnZ3JlZW4nLCAnc2VhZ3JlZW4nLCAnYmx1ZScsICdwdXJwbGUnLCAncGluayddO1xuICAgICAgICB0aGlzLmJ1YmJsZVNob290ZXJYID0gMjM1O1xuICAgICAgICB0aGlzLmJ1YmJsZVNob290ZXJZID0gNTcwO1xuICAgICAgICB0aGlzLm5leHRTaG9vdGVyWCA9IDExMDtcbiAgICAgICAgdGhpcy5uZXh0U2hvb3RlclkgPSA1ODA7XG4gICAgICAgIHRoaXMuY2x1c3RlckNvdW50ID0gMDtcbiAgICAgICAgdGhpcy50ZW1wQ2x1c3RlcnMgPSBbXTtcbiAgICAgICAgdGhpcy5mb3VuZENsdXN0ZXJzID0gW107XG4gICAgICAgIHRoaXMucG9wdWxhdGUoKTtcbiAgICAgICAgd2luZG93LmJ1YmJsZXMgPSB0aGlzLmJ1YmJsZXM7XG4gICAgfVxuXG4gICAgbG9hZEJ1YmJsZXNJbWFnZSgpIHtcbiAgICAgICAgdGhpcy5pbWFnZSA9IG5ldyBJbWFnZSgpO1xuICAgICAgICB0aGlzLmltYWdlLnNyYyA9IFwiYXNzZXRzL2ltYWdlcy9idWJibGVzLnBuZ1wiO1xuICAgICAgICB0aGlzLmltYWdlLnNwcml0ZXMgPSB7fTtcbiAgICAgICAgY29uc3QgYm9hcmQgPSB0aGlzO1xuICAgICAgICB0aGlzLmltYWdlLm9ubG9hZCA9ICgpID0+IHtcbiAgICAgICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgODsgaSsrKSB7XG4gICAgICAgICAgICAgICAgYm9hcmQuaW1hZ2Uuc3ByaXRlc1tib2FyZC5jb2xvcnNbaV1dID0gKHsgeDogaSAqIDQyLCB5OiAwLCB3OiA0MCwgaDogNDAgfSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBib2FyZC5kcmF3QnViYmxlcygpO1xuICAgICAgICAgICAgYm9hcmQuZHJhd0J1YmJsZVNob290ZXIoKTtcbiAgICAgICAgICAgIGJvYXJkLmdhbWUucmVhZHkgPSB0cnVlO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgbG9hZEluaXRpYWxHYW1lKCkge1xuICAgICAgICB0aGlzLmxvYWRCdWJibGVzSW1hZ2UoKTtcbiAgICAgICAgdGhpcy5kcmF3U2NvcmUoMCk7XG4gICAgICAgIHRoaXMuZHJhd01vdmVDb3VudCgpO1xuICAgIH1cblxuICAgIHBvcHVsYXRlKCkge1xuICAgICAgICBmb3IobGV0IGk9MDsgaSA8IHRoaXMucm93czsgaSsrKSB7XG4gICAgICAgICAgICB0aGlzLmJ1YmJsZXNbaV0gPSBbXTtcbiAgICAgICAgICAgIGZvcihsZXQgaj0wOyBqPCB0aGlzLmNvbHVtbnM7IGorKykge1xuICAgICAgICAgICAgICAgIGxldCBuZXdCdWJibGUgPSBuZXcgQnViYmxlKCdidWJibGUnLG51bGwsIG51bGwsIG51bGwsIGkgLCBqKTtcbiAgICAgICAgICAgICAgICBsZXQgZGltID0gbmV3QnViYmxlLmdldEJ1YmJsZURpbWVuc2lvbnMoaSwgaik7XG4gICAgICAgICAgICAgICAgbmV3QnViYmxlLnggPSBkaW0ueDtcbiAgICAgICAgICAgICAgICBuZXdCdWJibGUueSA9IGRpbS55O1xuICAgICAgICAgICAgICAgIHRoaXMuYnViYmxlc1tpXS5wdXNoKG5ld0J1YmJsZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5wbGFjZVJhbmRvbUJhbmFuYXMoKTtcbiAgICB9XG5cbiAgICBkcmF3QnViYmxlcygpIHtcbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCB0aGlzLmJ1YmJsZXMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgIGZvciAobGV0IGogPSAwOyBqIDwgdGhpcy5jb2x1bW5zOyBqKyspIHtcbiAgICAgICAgICAgICAgICBpZih0aGlzLmJ1YmJsZXNbaV1bal0gJiYgdGhpcy5idWJibGVzW2ldW2pdLnJlbW92ZWQgPT09IGZhbHNlKSB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IGJ1YmJsZSA9IHRoaXMuYnViYmxlc1tpXVtqXTtcbiAgICAgICAgICAgICAgICAgICAgaWYoYnViYmxlLnR5cGUgPT09ICdiYW5hbmEnKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBidWJibGUuZHJhd0JhbmFuYSh0aGlzLmN0eCk7XG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmJhbmFuYUNvdW50ICs9IDE7XG4gICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBidWJibGUuZHJhdyh0aGlzLmN0eCwgdGhpcy5pbWFnZSk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBkcmF3QnViYmxlU2hvb3RlcigpIHtcbiAgICAgICAgaWYgKCF0aGlzLmJ1YmJsZVNob290ZXIpIHtcbiAgICAgICAgICAgIGlmICh0aGlzLm5leHRTaG9vdGVyQnViYmxlKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5idWJibGVTaG9vdGVyID0gdGhpcy5uZXh0U2hvb3RlckJ1YmJsZTtcbiAgICAgICAgICAgICAgICB0aGlzLmJ1YmJsZVNob290ZXIueCA9IHRoaXMuYnViYmxlU2hvb3Rlclg7XG4gICAgICAgICAgICAgICAgdGhpcy5idWJibGVTaG9vdGVyLnkgPSB0aGlzLmJ1YmJsZVNob290ZXJZO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICB0aGlzLmJ1YmJsZVNob290ZXIgPSBuZXcgQnViYmxlKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAnc2hvb3RlcicsIFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmJ1YmJsZVNob290ZXJYLCBcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5idWJibGVTaG9vdGVyWSwgXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuc2VsZWN0UmFuZG9tQnViYmxlKHRoaXMucm93cyAtIDEpLmNvbG9yKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHRoaXMubmV4dFNob290ZXJCdWJibGUgPSBuZXcgQnViYmxlKFxuICAgICAgICAgICAgICAgICdzaG9vdGVyJyxcbiAgICAgICAgICAgICAgICB0aGlzLm5leHRTaG9vdGVyWCxcbiAgICAgICAgICAgICAgICB0aGlzLm5leHRTaG9vdGVyWSxcbiAgICAgICAgICAgICAgICB0aGlzLnNlbGVjdFJhbmRvbUJ1YmJsZSh0aGlzLnJvd3MgLSAxKS5jb2xvcik7XG4gICAgICAgICAgICB0aGlzLm5leHRTaG9vdGVyQnViYmxlLmRyYXcodGhpcy5jdHgsIHRoaXMuaW1hZ2UpO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuYnViYmxlU2hvb3Rlci5kcmF3KHRoaXMuY3R4LCB0aGlzLmltYWdlKTtcbiAgICB9XG5cbiAgICBkcmF3TW92ZUNvdW50KCkge1xuICAgICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcIm1vdmVzLXZhbFwiKS5pbm5lckhUTUwgPSB0aGlzLmdhbWUubW92ZXNBbGxvd2VkIC0gdGhpcy5nYW1lLmN1cnJlbnRNb3ZlQ291bnQ7XG4gICAgfVxuXG4gICAgZHJhd1Njb3JlKHNjb3JlKSB7XG4gICAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwic2NvcmUtdmFsXCIpLmlubmVySFRNTCA9IHNjb3JlICE9IHVuZGVmaW5lZCA/IHNjb3JlIDogdGhpcy5jYWxjdWxhdGVTY29yZSgpO1xuICAgIH1cblxuICAgIGNhbGN1bGF0ZVNjb3JlKCkge1xuICAgICAgICBsZXQgc2NvcmUgPSB0aGlzLmNsdXN0ZXJDb3VudCoxMDtcbiAgICAgICAgaWYgKHRoaXMuZ2FtZS5iYW5hbmFUYXJnZXQgLSB0aGlzLmJhbmFuYUNvdW50ID4gMCkge1xuICAgICAgICAgICAgc2NvcmUgKz0gKCh0aGlzLmdhbWUuYmFuYW5hVGFyZ2V0IC0gdGhpcy5iYW5hbmFDb3VudCkgKiAyMCk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHNjb3JlO1xuICAgIH1cblxuICAgIHJlbmRlcigpIHtcbiAgICAgICAgdGhpcy5jdHguY2xlYXJSZWN0KDAsIDAsIDY0MCwgNTAwKTtcbiAgICAgICAgdGhpcy5kcmF3QnViYmxlcygpO1xuICAgICAgICB0aGlzLmRyYXdNb3ZlQ291bnQoKTtcbiAgICAgICAgdGhpcy5kcmF3U2NvcmUoKTtcbiAgICB9XG5cbiAgICBjaGVja0NvbGxpc2lvbigpIHtcbiAgICAgICAgY29uc3Qgc2hvb3RlclggPSB0aGlzLmJ1YmJsZVNob290ZXIueDtcbiAgICAgICAgY29uc3Qgc2hvb3RlclkgPSB0aGlzLmJ1YmJsZVNob290ZXIueTtcbiAgICAgICAgY29uc3QgYWxsQnViYmxlcyA9IHRoaXMuYnViYmxlcy5mbGF0KCk7XG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgYWxsQnViYmxlcy5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgaWYgKGFsbEJ1YmJsZXNbaV0ucmVtb3ZlZCA9PT0gZmFsc2UgJiYgdGhpcy5jaGVja1R3b0J1YmJsZXNJbnRlcnNlY3Rpb24oYWxsQnViYmxlc1tpXSwgeyB4OiBzaG9vdGVyWCwgeTogc2hvb3RlclkgfSkpIHtcbiAgICAgICAgICAgICAgICB0aGlzLnJlc2V0QnViYmxlcygpO1xuICAgICAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG5cbiAgICByZXNldEJ1YmJsZXMoKSB7XG4gICAgICAgIGNvbnN0IGdyaWQgPSB0aGlzLmdldENsb3Nlc3RWYWxpZFBvc2l0aW9uKHRoaXMuYnViYmxlU2hvb3Rlcik7XG4gICAgICAgIGNvbnN0IGRpbSA9IHRoaXMuYnViYmxlU2hvb3Rlci5nZXRCdWJibGVEaW1lbnNpb25zKGdyaWQucm93LCBncmlkLmNvbCk7XG4gICAgICAgIGNvbnN0IG5ld0J1YmJsZSA9IG5ldyBCdWJibGUoJ2J1YmJsZScsIGRpbS54LCBkaW0ueSwgdGhpcy5idWJibGVTaG9vdGVyLmNvbG9yLCBncmlkLnJvdywgZ3JpZC5jb2wpO1xuICAgICAgICB0aGlzLmJ1YmJsZXNbZ3JpZC5yb3ddID0gdGhpcy5idWJibGVzW2dyaWQucm93XSA/IHRoaXMuYnViYmxlc1tncmlkLnJvd10gOiBbXTtcbiAgICAgICAgdGhpcy5idWJibGVzW2dyaWQucm93XVtncmlkLmNvbF0gPSBuZXdCdWJibGU7XG4gICAgICAgIHRoaXMucmVtb3ZlQWxsTWF0Y2hpbmdCdWJibGVzKGdyaWQsIG5ld0J1YmJsZS5jb2xvcik7XG4gICAgICAgIGlmICh0aGlzLmNsdXN0ZXJDb3VudCA+IDIpIHtcbiAgICAgICAgICAgIHRoaXMucmVtb3ZlQWxsTG9vc2VCdWJibGVzKCk7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5yZW5kZXIoKTtcbiAgICB9XG5cbiAgICBjaGVja1R3b0J1YmJsZXNJbnRlcnNlY3Rpb24oYnViYmxlMSwgYnViYmxlMikge1xuICAgICAgICBjb25zdCBkeCA9IGJ1YmJsZTEueCAtIGJ1YmJsZTIueDtcbiAgICAgICAgY29uc3QgZHkgPSBidWJibGUxLnkgLSBidWJibGUyLnk7XG4gICAgICAgIGNvbnN0IGRpc3RhbmNlID0gTWF0aC5zcXJ0KGR4ICogZHggKyBkeSAqIGR5KTtcbiAgICAgICAgaWYgKGRpc3RhbmNlIDwgKHRoaXMuYnViYmxlRGlhbWV0ZXIpKSB7XG4gICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuXG4gICAgLy8gNzAgLSAxIDBcbiAgICAvLzExMCAtIDIgNDBcbiAgICAvLzE1MCAtIDMgODAgICBcbiAgICAvLzE5MCAtIDQgMTIwXG4gICAgLy8yMzAgLSA1IDE2MFxuICAgIC8vMjcwIC0gNiAyMDBcbiAgICAvLzI2MCAtIDYgXG4gICAgLy9cblxuLy83MCArIDQwKnJvdyA9IHhcbi8vMC05MCAtIDFcbi8vOTAtMTMwIC0yXG4vLzEzMC0xNzAtM1xuLy8xNzAtMjEwIC0gNFxuICAgIGdldENsb3Nlc3RWYWxpZFBvc2l0aW9uKGJ1YmJsZSkge1xuICAgICAgICBjb25zdCB4ID0gYnViYmxlLng7XG4gICAgICAgIGNvbnN0IHkgPSBidWJibGUueTtcbiAgICAgICAgY29uc3Qgcm93ID0gTWF0aC5mbG9vcigoeSkgLyB0aGlzLmJ1YmJsZURpYW1ldGVyKTtcbiAgICAgICAgY29uc3Qgcm93T2Zmc2V0ID0gKHJvdyUyID09PSAxKSA/IHRoaXMuYnViYmxlRGlhbWV0ZXIvMiA6IDA7XG4gICAgICAgIGNvbnN0IGNvbCA9IE1hdGguZmxvb3IoKHggLSByb3dPZmZzZXQpIC8gdGhpcy5idWJibGVEaWFtZXRlcik7XG4gICAgICAgIGxldCByZXN1bHQgPSB7IHJvdzogcm93IC0gMSwgY29sIH07XG4gICAgICAgIGlmICh0aGlzLmJ1YmJsZXNbcm93IC0gMV0gJiYgdGhpcy5idWJibGVzW3JvdyAtIDFdW2NvbF0gJiYgdGhpcy5idWJibGVzW3Jvdy0xXVtjb2xdLnJlbW92ZWQgPT09IGZhbHNlKSB7XG4gICAgICAgICAgICByZXN1bHQgPSB0aGlzLmdldE90aGVyUG9zc2libGVQb3NpdGlvbihyb3ctMSwgY29sKSB8fCByZXN1bHQ7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICB9XG5cbiAgICBnZXRPdGhlclBvc3NpYmxlUG9zaXRpb24oY3VycmVudFJvdywgY3VycmVudENvbCkge1xuICAgICAgICBjb25zdCByb3dUeXBlID0gKGN1cnJlbnRSb3cpICUgMjtcbiAgICAgICAgY29uc3QgcG9zc2liaWxpdGllcyA9IEFESl9ESUZGU1tyb3dUeXBlXTtcblxuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IHBvc3NpYmlsaXRpZXMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgIGNvbnN0IGNvbCA9IGN1cnJlbnRDb2wgKyBwb3NzaWJpbGl0aWVzW2ldWzBdO1xuICAgICAgICAgICAgY29uc3Qgcm93ID0gY3VycmVudFJvdyArIHBvc3NpYmlsaXRpZXNbaV1bMV07XG5cbiAgICAgICAgICAgIGlmIChjb2wgPj0gMCAmJiBjb2wgPCB0aGlzLmNvbHVtbnMgJiYgcm93ID49IDApIHtcbiAgICAgICAgICAgICAgICBpZiAoKCF0aGlzLmJ1YmJsZXNbcm93XSkgfHwgIXRoaXMuYnViYmxlc1tyb3ddW2NvbF0gfHwgXG4gICAgICAgICAgICAgICAgICAgICh0aGlzLmJ1YmJsZXNbcm93XVtjb2xdICYmIHRoaXMuYnViYmxlc1tyb3ddW2NvbF0ucmVtb3ZlZCA9PT0gdHJ1ZSkpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHtyb3csIGNvbH07XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgLy8gaWYgKCF0aGlzLmJ1YmJsZXNbcm93XVtjb2wgLSAxXSAmJiB0aGlzLmJ1YmJsZXNbcm93XVtjb2wgLSAxXS5yZW1vdmVkID09PSBmYWxzZSkgeyAvLzAsLTFcbiAgICAgICAgLy8gICAgIHJldHVybiB7cm93OiByb3csIGNvbDogY29sLTF9O1xuICAgICAgICAvLyB9IGVsc2UgaWYgKCF0aGlzLmJ1YmJsZXNbcm93XVtjb2wgKyAxXSAmJiB0aGlzLmJ1YmJsZXNbcm93XVtjb2wgKyAxXS5yZW1vdmVkID09PSBmYWxzZSkgeyAgLy8wLDFcbiAgICAgICAgLy8gICAgIHJldHVybiB7IHJvdzogcm93LCBjb2w6IGNvbCArIDEgfTtcbiAgICAgICAgLy8gfSBlbHNlIGlmICghdGhpcy5idWJibGVzW3JvdyArIDFdW2NvbF0gJiYgIXRoaXMuYnViYmxlc1tyb3cgKyAxXVtjb2xdLnJlbW92ZWQgPT09IGZhbHNlKSB7IC8vMSwwXG4gICAgICAgIC8vICAgICByZXR1cm4geyByb3c6IHJvdysxLCBjb2w6IGNvbCB9O1xuICAgICAgICAvLyB9IGVsc2UgaWYgKCF0aGlzLmJ1YmJsZXNbcm93ICsgMV1bY29sIC0gMV0gJiYgIXRoaXMuYnViYmxlc1tyb3cgKyAxXVtjb2wgLSAxXS5yZW1vdmVkID09PSBmYWxzZSkgeyAvLzEsLTFcbiAgICAgICAgLy8gICAgIHJldHVybiB7IHJvdzogcm93KzEsIGNvbDogY29sIC0gMSB9O1xuICAgICAgICAvLyB9IGVsc2UgaWYgKCF0aGlzLmJ1YmJsZXNbcm93ICsgMV1bY29sICsgMV0gJiYgIXRoaXMuYnViYmxlc1tyb3cgKyAxXVtjb2wgKyAxXS5yZW1vdmVkID09PSBmYWxzZSkgeyAvLzEsMVxuICAgICAgICAvLyAgICAgcmV0dXJuIHsgcm93OiByb3crMSwgY29sOiBjb2wgKyAxIH07XG4gICAgICAgIC8vIH1cbiAgICB9XG5cbiAgICBnZXRBbGxBZGphY2VudEJ1YmJsZXMoYnViYmxlKSB7XG4gICAgICAgIHZhciByb3dUeXBlID0gKGJ1YmJsZS5yb3cpICUgMjtcbiAgICAgICAgdmFyIG5laWdoYm9ycyA9IFtdO1xuICAgICAgICB2YXIgcG9zc2liaWxpdGllcyA9IEFESl9ESUZGU1tyb3dUeXBlXTtcbiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBwb3NzaWJpbGl0aWVzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICB2YXIgY29sID0gYnViYmxlLmNvbCArIHBvc3NpYmlsaXRpZXNbaV1bMF07XG4gICAgICAgICAgICB2YXIgcm93ID0gYnViYmxlLnJvdyArIHBvc3NpYmlsaXRpZXNbaV1bMV07XG5cbiAgICAgICAgICAgIGlmIChjb2wgPj0gMCAmJiBjb2wgPCB0aGlzLmNvbHVtbnMgJiYgcm93ID49IDAgJiYgcm93IDwgdGhpcy5idWJibGVzLmxlbmd0aCkge1xuICAgICAgICAgICAgICAgIGlmICh0aGlzLmJ1YmJsZXNbcm93XSAmJiB0aGlzLmJ1YmJsZXNbcm93XVtjb2xdICYmIHRoaXMuYnViYmxlc1tyb3ddW2NvbF0ucmVtb3ZlZCA9PT0gZmFsc2UpIHtcbiAgICAgICAgICAgICAgICAgICAgbmVpZ2hib3JzLnB1c2godGhpcy5idWJibGVzW3Jvd11bY29sXSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIG5laWdoYm9ycztcbiAgICB9XG5cbiAgICByZW1vdmVBbGxNYXRjaGluZ0J1YmJsZXMoZ3JpZCwgY29sb3IpIHtcbiAgICAgICAgY29uc3Qgcm93VHlwZSA9IChncmlkLnJvdykgJSAyO1xuICAgICAgICBjb25zdCBwb3NzaWJpbGl0aWVzID0gQURKX0RJRkZTW3Jvd1R5cGVdO1xuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IHBvc3NpYmlsaXRpZXMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgIGNvbnN0IGNvbCA9IGdyaWQuY29sICsgcG9zc2liaWxpdGllc1tpXVswXTtcbiAgICAgICAgICAgIGNvbnN0IHJvdyA9IGdyaWQucm93ICsgcG9zc2liaWxpdGllc1tpXVsxXTtcbiAgICAgICAgICAgIGlmIChjb2wgPj0gMCAmJiBjb2wgPCB0aGlzLmNvbHVtbnMgJiYgcm93ID49IDAgJiYgcm93IDwgdGhpcy5idWJibGVzLmxlbmd0aCkge1xuICAgICAgICAgICAgICAgIGlmKHRoaXMuYnViYmxlc1tyb3ddICYmIHRoaXMuYnViYmxlc1tyb3ddW2NvbF0pIHtcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgYWRqQnViYmxlID0gdGhpcy5idWJibGVzW3Jvd11bY29sXTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKChhZGpCdWJibGUudHlwZSA9PT0gJ2JhbmFuYScgfHwgYWRqQnViYmxlLmNvbG9yID09PSBjb2xvcikgXG4gICAgICAgICAgICAgICAgICAgICAgICAmJiBhZGpCdWJibGUucmVtb3ZlZCA9PT0gZmFsc2UgJiYgIXRoaXMuY2hlY2tPYmplY3RpbkFycmF5KHRoaXMudGVtcENsdXN0ZXJzLCB7cm93LCBjb2x9KSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5jbHVzdGVyQ291bnQgKz0gMTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICh0aGlzLmNsdXN0ZXJDb3VudCA8IDMpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAodGhpcy5idWJibGVzW2dyaWQucm93XVtncmlkLmNvbF0ucmVtb3ZlZCA9PSBmYWxzZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmNsdXN0ZXJDb3VudCArPSAxO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnRlbXBDbHVzdGVycy5wdXNoKHtyb3c6IGdyaWQucm93LCBjb2w6IGdyaWQuY29sfSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMudGVtcENsdXN0ZXJzLnB1c2goeyByb3csIGNvbH0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZih0aGlzLnRlbXBDbHVzdGVycy5sZW5ndGggPj0gMikge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBmb3IgKGxldCBpID0gMDsgaTwgdGhpcy50ZW1wQ2x1c3RlcnMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IGNsdXN0ZXJHcmlkID0gdGhpcy50ZW1wQ2x1c3RlcnNbaV07XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmJ1YmJsZXNbY2x1c3RlckdyaWQucm93XVtjbHVzdGVyR3JpZC5jb2xdLnJlbW92ZWQgPSB0cnVlO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMudGVtcENsdXN0ZXJzID0gW107XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuYnViYmxlc1tncmlkLnJvd11bZ3JpZC5jb2xdLnJlbW92ZWQgPSB0cnVlO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuYnViYmxlc1tyb3ddW2NvbF0ucmVtb3ZlZCA9IHRydWU7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnJlbW92ZUFsbE1hdGNoaW5nQnViYmxlcyh7cm93LCBjb2x9LCBjb2xvcik7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBjaGVja09iamVjdGluQXJyYXkoYXJyYXksIG9iaikge1xuICAgICAgICByZXR1cm4gYXJyYXkuc29tZSgodmFsKSA9PiB7XG4gICAgICAgICAgICByZXR1cm4gKHZhbC5yb3cgPT09IG9iai5yb3cgJiYgdmFsLmNvbCA9PT0gb2JqLmNvbCk7XG4gICAgICAgIH0pXG4gICAgfVxuXG4gICAgcmVtb3ZlQWxsTG9vc2VCdWJibGVzKCkge1xuICAgICAgICBmb3IgKGxldCBpID0gdGhpcy5idWJibGVzLmxlbmd0aCAtIDE7IGkgPj0gMDsgaS0tKSB7XG4gICAgICAgICAgICBmb3IgKGxldCBqID0gMDsgaiA8IHRoaXMuY29sdW1uczsgaisrKSB7XG4gICAgICAgICAgICAgICAgaWYgKHRoaXMuYnViYmxlc1tpXSAmJiB0aGlzLmJ1YmJsZXNbaV1bal0gJiYgdGhpcy5idWJibGVzW2ldW2pdLnJlbW92ZWQgPT09IGZhbHNlKSB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IGJ1YmJsZSA9IHRoaXMuYnViYmxlc1tpXVtqXTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKCF0aGlzLmZvdW5kQ2x1c3RlcnMuaW5jbHVkZXMoYCR7YnViYmxlLnJvd30tJHtidWJibGUuY29sfWApKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmZpbmRCdWJibGVUcmVlKGJ1YmJsZS5yb3csIGJ1YmJsZS5jb2wpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuXG4gICAgLy9CRlMgdXNpbmcgcXVldWVcbiAgICBmaW5kQnViYmxlVHJlZShyb3csIGNvbCkge1xuICAgICAgICBsZXQgYWxsTm9kZXMgPSBbdGhpcy5idWJibGVzW3Jvd11bY29sXV07XG4gICAgICAgIGxldCBidWJibGVUcmVlID0gW107XG4gICAgICAgIGxldCBwcm9jZXNzZWQgPSBbXTtcbiAgICAgICAgbGV0IGxvb3NlQnViYmxlID0gdHJ1ZTtcbiAgICAgICAgd2hpbGUgKGFsbE5vZGVzLmxlbmd0aCA+IDApIHtcbiAgICAgICAgICAgIGNvbnN0IGN1cnJlbnROb2RlID0gYWxsTm9kZXMuc2hpZnQoKTtcbiAgICAgICAgICAgIGlmICghcHJvY2Vzc2VkLmluY2x1ZGVzKGN1cnJlbnROb2RlKSkge1xuICAgICAgICAgICAgICAgIHByb2Nlc3NlZC5wdXNoKGN1cnJlbnROb2RlKTtcbiAgICAgICAgICAgICAgICBpZiAoY3VycmVudE5vZGUucm93ID09PSAwKSB7XG4gICAgICAgICAgICAgICAgICAgIGxvb3NlQnViYmxlID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHRoaXMuZm91bmRDbHVzdGVycy5wdXNoKGAke2N1cnJlbnROb2RlLnJvd30tJHtjdXJyZW50Tm9kZS5jb2x9YCk7XG4gICAgICAgICAgICAgICAgYWxsTm9kZXMgPSBhbGxOb2Rlcy5jb25jYXQodGhpcy5nZXRBbGxBZGphY2VudEJ1YmJsZXMoY3VycmVudE5vZGUpKTtcbiAgICAgICAgICAgICAgICBidWJibGVUcmVlLnB1c2goY3VycmVudE5vZGUpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGlmIChsb29zZUJ1YmJsZSkge1xuICAgICAgICAgICAgdGhpcy5tYXJrTG9vc2VCdWJibGVzKGJ1YmJsZVRyZWUpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBidWJibGVUcmVlO1xuICAgIH1cblxuICAgIG1hcmtMb29zZUJ1YmJsZXMoYnViYmxlcykge1xuICAgICAgICBmb3IobGV0IGk9MDsgaSA8IGJ1YmJsZXMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgIHRoaXMuYnViYmxlc1tidWJibGVzW2ldLnJvd11bYnViYmxlc1tpXS5jb2xdLnJlbW92ZWQgPSB0cnVlO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgc2VsZWN0UmFuZG9tQnViYmxlKHJvd1N0YXJ0ID0gMCwgcm93RW5kID0gdGhpcy5yb3dzLCBjb2xTdGFydCA9IDAsIGNvbEVuZCA9IHRoaXMuY29sdW1ucykge1xuICAgICAgICBjb25zdCBzYW1wbGVEYXRhID0gdGhpcy5nZXRTZWxlY3RlZEJ1YmJsZXMocm93U3RhcnQsIHJvd0VuZCwgY29sU3RhcnQsIGNvbEVuZCk7XG4gICAgICAgIHJldHVybiBzYW1wbGVEYXRhW01hdGguZmxvb3IoTWF0aC5yYW5kb20oKSAqIHNhbXBsZURhdGEubGVuZ3RoKV07XG4gICAgfVxuXG4gICAgZ2V0U2VsZWN0ZWRCdWJibGVzKHJvd1N0YXJ0ID0gMCwgcm93RW5kID0gdGhpcy5yb3dzLCBjb2xTdGFydCA9IDAsIGNvbEVuZCA9IHRoaXMuY29sdW1ucykge1xuICAgICAgICBsZXQgc2FtcGxlRGF0YSA9IFtdO1xuICAgICAgICBmb3IgKGxldCBpID0gcm93U3RhcnQ7IGkgPCByb3dFbmQ7IGkrKykge1xuICAgICAgICAgICAgZm9yIChsZXQgaiA9IGNvbFN0YXJ0OyBqIDwgY29sRW5kOyBqKyspIHtcbiAgICAgICAgICAgICAgICBzYW1wbGVEYXRhLnB1c2godGhpcy5idWJibGVzW2ldW2pdKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gc2FtcGxlRGF0YTtcbiAgICB9XG5cbiAgICBwbGFjZVJhbmRvbUJhbmFuYXMoKSB7XG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgdGhpcy5nYW1lLmJhbmFuYVRhcmdldDsgaSsrKSB7XG4gICAgICAgICAgICBjb25zdCBiYW5hbmFSb3cgPSBNYXRoLmZsb29yKE1hdGgucmFuZG9tKCkgKiB0aGlzLnJvd3MpO1xuICAgICAgICAgICAgY29uc3QgYmFuYW5hQ29sID0gTWF0aC5mbG9vcihNYXRoLnJhbmRvbSgpICogdGhpcy5jb2x1bW5zKTtcbiAgICAgICAgICAgIGNvbnN0IGJhbmFuYSA9IG5ldyBCdWJibGUoJ2JhbmFuYScpO1xuICAgICAgICAgICAgY29uc3QgZGltID0gYmFuYW5hLmdldEJ1YmJsZURpbWVuc2lvbnMoYmFuYW5hUm93LCBiYW5hbmFDb2wpO1xuICAgICAgICAgICAgYmFuYW5hLnggPSBkaW0ueDtcbiAgICAgICAgICAgIGJhbmFuYS55ID0gZGltLnk7XG4gICAgICAgICAgICBiYW5hbmEucm93ID0gYmFuYW5hUm93O1xuICAgICAgICAgICAgYmFuYW5hLmNvbCA9IGJhbmFuYUNvbDtcbiAgICAgICAgICAgIHRoaXMuYnViYmxlc1tiYW5hbmFSb3ddW2JhbmFuYUNvbF0gPSBiYW5hbmE7XG4gICAgICAgIH1cbiAgICB9XG59XG5cbmV4cG9ydCBkZWZhdWx0IEJvYXJkOyJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./src/js/board.js\n");

/***/ }),

/***/ "./src/js/bubble.js":
/*!**************************!*\
  !*** ./src/js/bubble.js ***!
  \**************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\nvar level1Colors = [\n    'red',\n    'green',\n    'yellow'\n];\n\nvar level2Colors = [\n    '#FFBC00',\n    '#DD4E00',\n    '#00BD00',\n    '#1dd186'\n];\n\nvar level3Colors = [\n    '#FFBC00',\n    '#DD4E00',\n    '#00BD00',\n    '#1dd186',\n    '#616a77'\n];\n\nvar COLORS = ['red', 'orange', 'yellow', 'green', 'seagreen', 'blue', 'purple', 'pink'];\n\nvar diameter = 40;\nvar rowOffset = 20;\nvar colOffset = 70;\n\nclass Bubble {\n\n    constructor(type, x, y, color, row, col) {\n        this.removed = false;\n        this.type = type;\n        this.color = color || this.getRandomColour();\n        this.x = x;\n        this.y = y;\n        this.row = row;\n        this.col = col;\n    }\n\n    getBubbleDimensions(row, column) {\n        let bubbleX = (column * diameter) + rowOffset;\n        if(row%2 === 1) {\n            bubbleX += diameter/2;\n        }\n        let bubbleY = (row* diameter) + colOffset;\n        return {x: bubbleX, y:bubbleY};\n    }\n\n    draw(ctx, bubbleSprite) {\n        ctx.beginPath();\n        const spr = bubbleSprite.sprites[this.color];\n        const w = spr.w;\n        const h = spr.h;\n        ctx.drawImage(bubbleSprite, spr.x, spr.y, w, h, this.x, this.y, w, h);\n        ctx.closePath();\n    }\n\n    clearBubble() {\n        this.removed = true;\n    }\n\n    getRandomColour() {\n        return level1Colors[Math.floor(Math.random() * level1Colors.length)];\n    }\n\n    clearArc(ctx) {\n        ctx.save();\n        ctx.beginPath();\n        ctx.globalCompositeOperation = 'destination-out';\n        ctx.clearRect(this.x, this.y, diameter, diameter);\n        ctx.fill();\n        ctx.restore();\n    }\n\n    drawBanana(ctx) {\n        var bananaImg = document.createElement('img');\n        bananaImg.src = 'assets/images/banana.png';\n        bananaImg.onload = () => {\n            this.clearArc(ctx);\n            const radius = (diameter/2)-1;\n            ctx.arc(this.x + radius + 2, this.y + radius + 2, radius, 0, Math.PI * 2, true);\n            ctx.fillStyle = \"#70D434\";\n            ctx.fill();\n            ctx.drawImage(bananaImg, 0, 0, bananaImg.width, bananaImg.height, this.x + 5, this.y+5, 27, 27);\n        };\n    }\n}\n\n/* harmony default export */ __webpack_exports__[\"default\"] = (Bubble);\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zcmMvanMvYnViYmxlLmpzP2QwN2QiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGdCQUFnQjtBQUNoQjs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFZSxxRUFBTSxFQUFDIiwiZmlsZSI6Ii4vc3JjL2pzL2J1YmJsZS5qcy5qcyIsInNvdXJjZXNDb250ZW50IjpbInZhciBsZXZlbDFDb2xvcnMgPSBbXG4gICAgJ3JlZCcsXG4gICAgJ2dyZWVuJyxcbiAgICAneWVsbG93J1xuXTtcblxudmFyIGxldmVsMkNvbG9ycyA9IFtcbiAgICAnI0ZGQkMwMCcsXG4gICAgJyNERDRFMDAnLFxuICAgICcjMDBCRDAwJyxcbiAgICAnIzFkZDE4Nidcbl07XG5cbnZhciBsZXZlbDNDb2xvcnMgPSBbXG4gICAgJyNGRkJDMDAnLFxuICAgICcjREQ0RTAwJyxcbiAgICAnIzAwQkQwMCcsXG4gICAgJyMxZGQxODYnLFxuICAgICcjNjE2YTc3J1xuXTtcblxudmFyIENPTE9SUyA9IFsncmVkJywgJ29yYW5nZScsICd5ZWxsb3cnLCAnZ3JlZW4nLCAnc2VhZ3JlZW4nLCAnYmx1ZScsICdwdXJwbGUnLCAncGluayddO1xuXG52YXIgZGlhbWV0ZXIgPSA0MDtcbnZhciByb3dPZmZzZXQgPSAyMDtcbnZhciBjb2xPZmZzZXQgPSA3MDtcblxuY2xhc3MgQnViYmxlIHtcblxuICAgIGNvbnN0cnVjdG9yKHR5cGUsIHgsIHksIGNvbG9yLCByb3csIGNvbCkge1xuICAgICAgICB0aGlzLnJlbW92ZWQgPSBmYWxzZTtcbiAgICAgICAgdGhpcy50eXBlID0gdHlwZTtcbiAgICAgICAgdGhpcy5jb2xvciA9IGNvbG9yIHx8IHRoaXMuZ2V0UmFuZG9tQ29sb3VyKCk7XG4gICAgICAgIHRoaXMueCA9IHg7XG4gICAgICAgIHRoaXMueSA9IHk7XG4gICAgICAgIHRoaXMucm93ID0gcm93O1xuICAgICAgICB0aGlzLmNvbCA9IGNvbDtcbiAgICB9XG5cbiAgICBnZXRCdWJibGVEaW1lbnNpb25zKHJvdywgY29sdW1uKSB7XG4gICAgICAgIGxldCBidWJibGVYID0gKGNvbHVtbiAqIGRpYW1ldGVyKSArIHJvd09mZnNldDtcbiAgICAgICAgaWYocm93JTIgPT09IDEpIHtcbiAgICAgICAgICAgIGJ1YmJsZVggKz0gZGlhbWV0ZXIvMjtcbiAgICAgICAgfVxuICAgICAgICBsZXQgYnViYmxlWSA9IChyb3cqIGRpYW1ldGVyKSArIGNvbE9mZnNldDtcbiAgICAgICAgcmV0dXJuIHt4OiBidWJibGVYLCB5OmJ1YmJsZVl9O1xuICAgIH1cblxuICAgIGRyYXcoY3R4LCBidWJibGVTcHJpdGUpIHtcbiAgICAgICAgY3R4LmJlZ2luUGF0aCgpO1xuICAgICAgICBjb25zdCBzcHIgPSBidWJibGVTcHJpdGUuc3ByaXRlc1t0aGlzLmNvbG9yXTtcbiAgICAgICAgY29uc3QgdyA9IHNwci53O1xuICAgICAgICBjb25zdCBoID0gc3ByLmg7XG4gICAgICAgIGN0eC5kcmF3SW1hZ2UoYnViYmxlU3ByaXRlLCBzcHIueCwgc3ByLnksIHcsIGgsIHRoaXMueCwgdGhpcy55LCB3LCBoKTtcbiAgICAgICAgY3R4LmNsb3NlUGF0aCgpO1xuICAgIH1cblxuICAgIGNsZWFyQnViYmxlKCkge1xuICAgICAgICB0aGlzLnJlbW92ZWQgPSB0cnVlO1xuICAgIH1cblxuICAgIGdldFJhbmRvbUNvbG91cigpIHtcbiAgICAgICAgcmV0dXJuIGxldmVsMUNvbG9yc1tNYXRoLmZsb29yKE1hdGgucmFuZG9tKCkgKiBsZXZlbDFDb2xvcnMubGVuZ3RoKV07XG4gICAgfVxuXG4gICAgY2xlYXJBcmMoY3R4KSB7XG4gICAgICAgIGN0eC5zYXZlKCk7XG4gICAgICAgIGN0eC5iZWdpblBhdGgoKTtcbiAgICAgICAgY3R4Lmdsb2JhbENvbXBvc2l0ZU9wZXJhdGlvbiA9ICdkZXN0aW5hdGlvbi1vdXQnO1xuICAgICAgICBjdHguY2xlYXJSZWN0KHRoaXMueCwgdGhpcy55LCBkaWFtZXRlciwgZGlhbWV0ZXIpO1xuICAgICAgICBjdHguZmlsbCgpO1xuICAgICAgICBjdHgucmVzdG9yZSgpO1xuICAgIH1cblxuICAgIGRyYXdCYW5hbmEoY3R4KSB7XG4gICAgICAgIHZhciBiYW5hbmFJbWcgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdpbWcnKTtcbiAgICAgICAgYmFuYW5hSW1nLnNyYyA9ICdhc3NldHMvaW1hZ2VzL2JhbmFuYS5wbmcnO1xuICAgICAgICBiYW5hbmFJbWcub25sb2FkID0gKCkgPT4ge1xuICAgICAgICAgICAgdGhpcy5jbGVhckFyYyhjdHgpO1xuICAgICAgICAgICAgY29uc3QgcmFkaXVzID0gKGRpYW1ldGVyLzIpLTE7XG4gICAgICAgICAgICBjdHguYXJjKHRoaXMueCArIHJhZGl1cyArIDIsIHRoaXMueSArIHJhZGl1cyArIDIsIHJhZGl1cywgMCwgTWF0aC5QSSAqIDIsIHRydWUpO1xuICAgICAgICAgICAgY3R4LmZpbGxTdHlsZSA9IFwiIzcwRDQzNFwiO1xuICAgICAgICAgICAgY3R4LmZpbGwoKTtcbiAgICAgICAgICAgIGN0eC5kcmF3SW1hZ2UoYmFuYW5hSW1nLCAwLCAwLCBiYW5hbmFJbWcud2lkdGgsIGJhbmFuYUltZy5oZWlnaHQsIHRoaXMueCArIDUsIHRoaXMueSs1LCAyNywgMjcpO1xuICAgICAgICB9O1xuICAgIH1cbn1cblxuZXhwb3J0IGRlZmF1bHQgQnViYmxlO1xuIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./src/js/bubble.js\n");

/***/ }),

/***/ "./src/js/game.js":
/*!************************!*\
  !*** ./src/js/game.js ***!
  \************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _board__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./board */ \"./src/js/board.js\");\n\n\nclass Game {\n    constructor(ctx, canvas) {\n        this.canvas = canvas;\n        this.level = 1;\n        this.bananaTarget = 5;\n        this.playAngle = null;\n        this.ready = false;\n        this.currentMoveCount = 0;\n        this.movesAllowed = 15;\n        this.onMouseMove = this.onMouseMove.bind(this);\n        this.onMouseDown = this.onMouseDown.bind(this);\n        this.shooterMoving = false;\n        this.gameOver = false;\n        this.won = false;\n        this.board = new _board__WEBPACK_IMPORTED_MODULE_0__[\"default\"](this, ctx);\n    }\n\n    play() {\n        this.makeMove();\n    }\n\n    setGameStatus() {\n        if(this.board.bananaCount === 0) {\n            this.won = true;\n        } else if (this.currentMoveCount >= this.movesAllowed) {\n            this.gameOver = true;\n        } else if (this.board.bubbles.length >=11) {\n            this.gameOver = true;\n        }\n        this.alertGameStatus();\n    }\n\n    alertGameStatus() {\n        if (this.gameOver) {\n            alert('Game Over!');\n            document.location.reload();\n        } else if(this.won) {\n            alert('Congratulations! You Won');\n            document.location.reload();\n        }\n    }\n\n    resetAfterCollision() {\n        this.setGameStatus();\n        this.board.bubbleShooter = null;\n        this.shooterMoving = false;\n        this.playAngle = null;\n        this.board.foundClusters = [];\n        this.board.clusterCount = 0;\n        this.board.bananaCount = 0;\n    }\n\n    drawLevel() {\n\n    }\n\n    makeMove() {\n        const rads = this.degToRad(this.playAngle);\n        const speed = 500;\n        let dx = Math.cos(rads) * speed / 60;\n        let dy = Math.sin(rads) * speed / 60;\n        var interval = setInterval(() => {\n            if (this.board.bubbleShooter.x + dx <= 0) {\n                this.playAngle = 180 - this.playAngle;\n                dx = -dx;\n            } else if (this.board.bubbleShooter.x + dx + this.board.bubbleDiameter >= this.canvas.width) {\n                this.playAngle = 180 - this.playAngle;\n                dx = -dx;\n            }\n            const isCollision = this.board.checkCollision();\n            if (isCollision) {\n                this.resetAfterCollision();\n                clearInterval(interval);\n            } else {\n                this.board.bubbleShooter.clearArc(this.board.ctx);\n                this.board.bubbleShooter.x = this.board.bubbleShooter.x + dx;\n                this.board.bubbleShooter.y = this.board.bubbleShooter.y - dy;\n            }\n            \n            this.board.drawBubbleShooter();\n\n        }, 1000 / 60);\n    }\n\n    start() {\n        this.board.loadInitialGame();\n    }\n\n    radToDeg(angle) {\n        return angle * (180 / Math.PI);\n    }\n\n    degToRad(angle) {\n        return angle * (Math.PI / 180);\n    }\n\n    onMouseMove(e) {\n        if (this.shooterMoving === false) {\n            const pos = this.getMousePos(this.canvas, e);\n            let mouseangle = this.radToDeg(\n                Math.atan2(\n                    (this.board.bubbleShooterY + this.board.bubbleDiameter) - pos.y, \n                    pos.x - (this.board.bubbleShooterX + this.board.bubbleDiameter)\n                )\n            );\n            if (mouseangle < 0) {\n                mouseangle = 180 + (180 + mouseangle);\n            }\n            const lbound = 15;\n            const ubound = 165;\n            if (mouseangle > 90 && mouseangle < 270) {\n                if (mouseangle > ubound) {\n                    mouseangle = ubound;\n                }\n            } else {\n                if (mouseangle < lbound || mouseangle >= 270) {\n                    mouseangle = lbound;\n                }\n            }\n            this.playAngle = mouseangle;\n            this.drawMouseLine();\n        }\n    }\n\n    onMouseDown(e) {\n        if (this.playAngle && this.shooterMoving ===  false) {\n            if(this.gameOver) {\n                this.loadNewGame();\n            }\n            if (this.ready) { \n                this.shooterMoving = true;\n                this.currentMoveCount += 1;\n                this.play();\n            }\n        }\n    }\n\n    getMousePos(canvas, e) {\n        var rect = canvas.getBoundingClientRect();\n        return {\n            x: Math.round((e.clientX - rect.left) / (rect.right - rect.left) * canvas.width),\n            y: Math.round((e.clientY - rect.top) / (rect.bottom - rect.top) * canvas.height)\n        };\n    }\n\n    // Render the angle of the mouse\n    drawMouseLine() {\n        var centerx = 230 + this.board.bubbleDiameter / 2;\n        var centery = 550 + this.board.bubbleDiameter / 2;\n        var ctx = this.board.ctx;\n        ctx.clearRect(150, 480, 200, 90);\n        ctx.lineWidth = 2;\n        ctx.strokeStyle = \"#fff\";\n        ctx.beginPath();\n        ctx.setLineDash([5,10]);\n        ctx.moveTo(centerx, centery);\n        ctx.lineTo(\n            centerx + 2 * this.board.bubbleDiameter * Math.cos(this.degToRad(this.playAngle)),\n            centery - 2 * this.board.bubbleDiameter * Math.sin(this.degToRad(this.playAngle)));\n        ctx.stroke();\n    }\n}\n\n/* harmony default export */ __webpack_exports__[\"default\"] = (Game);//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zcmMvanMvZ2FtZS5qcz8yMzJkIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBO0FBQUE7QUFBNEI7O0FBRTVCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSx5QkFBeUIsOENBQUs7QUFDOUI7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7O0FBRUE7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsYUFBYTtBQUNiO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsYUFBYTtBQUNiO0FBQ0E7QUFDQTtBQUNBOztBQUVBOztBQUVBLFNBQVM7QUFDVDs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxhQUFhO0FBQ2I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsNkI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFZSxtRUFBSSIsImZpbGUiOiIuL3NyYy9qcy9nYW1lLmpzLmpzIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IEJvYXJkIGZyb20gJy4vYm9hcmQnO1xuXG5jbGFzcyBHYW1lIHtcbiAgICBjb25zdHJ1Y3RvcihjdHgsIGNhbnZhcykge1xuICAgICAgICB0aGlzLmNhbnZhcyA9IGNhbnZhcztcbiAgICAgICAgdGhpcy5sZXZlbCA9IDE7XG4gICAgICAgIHRoaXMuYmFuYW5hVGFyZ2V0ID0gNTtcbiAgICAgICAgdGhpcy5wbGF5QW5nbGUgPSBudWxsO1xuICAgICAgICB0aGlzLnJlYWR5ID0gZmFsc2U7XG4gICAgICAgIHRoaXMuY3VycmVudE1vdmVDb3VudCA9IDA7XG4gICAgICAgIHRoaXMubW92ZXNBbGxvd2VkID0gMTU7XG4gICAgICAgIHRoaXMub25Nb3VzZU1vdmUgPSB0aGlzLm9uTW91c2VNb3ZlLmJpbmQodGhpcyk7XG4gICAgICAgIHRoaXMub25Nb3VzZURvd24gPSB0aGlzLm9uTW91c2VEb3duLmJpbmQodGhpcyk7XG4gICAgICAgIHRoaXMuc2hvb3Rlck1vdmluZyA9IGZhbHNlO1xuICAgICAgICB0aGlzLmdhbWVPdmVyID0gZmFsc2U7XG4gICAgICAgIHRoaXMud29uID0gZmFsc2U7XG4gICAgICAgIHRoaXMuYm9hcmQgPSBuZXcgQm9hcmQodGhpcywgY3R4KTtcbiAgICB9XG5cbiAgICBwbGF5KCkge1xuICAgICAgICB0aGlzLm1ha2VNb3ZlKCk7XG4gICAgfVxuXG4gICAgc2V0R2FtZVN0YXR1cygpIHtcbiAgICAgICAgaWYodGhpcy5ib2FyZC5iYW5hbmFDb3VudCA9PT0gMCkge1xuICAgICAgICAgICAgdGhpcy53b24gPSB0cnVlO1xuICAgICAgICB9IGVsc2UgaWYgKHRoaXMuY3VycmVudE1vdmVDb3VudCA+PSB0aGlzLm1vdmVzQWxsb3dlZCkge1xuICAgICAgICAgICAgdGhpcy5nYW1lT3ZlciA9IHRydWU7XG4gICAgICAgIH0gZWxzZSBpZiAodGhpcy5ib2FyZC5idWJibGVzLmxlbmd0aCA+PTExKSB7XG4gICAgICAgICAgICB0aGlzLmdhbWVPdmVyID0gdHJ1ZTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLmFsZXJ0R2FtZVN0YXR1cygpO1xuICAgIH1cblxuICAgIGFsZXJ0R2FtZVN0YXR1cygpIHtcbiAgICAgICAgaWYgKHRoaXMuZ2FtZU92ZXIpIHtcbiAgICAgICAgICAgIGFsZXJ0KCdHYW1lIE92ZXIhJyk7XG4gICAgICAgICAgICBkb2N1bWVudC5sb2NhdGlvbi5yZWxvYWQoKTtcbiAgICAgICAgfSBlbHNlIGlmKHRoaXMud29uKSB7XG4gICAgICAgICAgICBhbGVydCgnQ29uZ3JhdHVsYXRpb25zISBZb3UgV29uJyk7XG4gICAgICAgICAgICBkb2N1bWVudC5sb2NhdGlvbi5yZWxvYWQoKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIHJlc2V0QWZ0ZXJDb2xsaXNpb24oKSB7XG4gICAgICAgIHRoaXMuc2V0R2FtZVN0YXR1cygpO1xuICAgICAgICB0aGlzLmJvYXJkLmJ1YmJsZVNob290ZXIgPSBudWxsO1xuICAgICAgICB0aGlzLnNob290ZXJNb3ZpbmcgPSBmYWxzZTtcbiAgICAgICAgdGhpcy5wbGF5QW5nbGUgPSBudWxsO1xuICAgICAgICB0aGlzLmJvYXJkLmZvdW5kQ2x1c3RlcnMgPSBbXTtcbiAgICAgICAgdGhpcy5ib2FyZC5jbHVzdGVyQ291bnQgPSAwO1xuICAgICAgICB0aGlzLmJvYXJkLmJhbmFuYUNvdW50ID0gMDtcbiAgICB9XG5cbiAgICBkcmF3TGV2ZWwoKSB7XG5cbiAgICB9XG5cbiAgICBtYWtlTW92ZSgpIHtcbiAgICAgICAgY29uc3QgcmFkcyA9IHRoaXMuZGVnVG9SYWQodGhpcy5wbGF5QW5nbGUpO1xuICAgICAgICBjb25zdCBzcGVlZCA9IDUwMDtcbiAgICAgICAgbGV0IGR4ID0gTWF0aC5jb3MocmFkcykgKiBzcGVlZCAvIDYwO1xuICAgICAgICBsZXQgZHkgPSBNYXRoLnNpbihyYWRzKSAqIHNwZWVkIC8gNjA7XG4gICAgICAgIHZhciBpbnRlcnZhbCA9IHNldEludGVydmFsKCgpID0+IHtcbiAgICAgICAgICAgIGlmICh0aGlzLmJvYXJkLmJ1YmJsZVNob290ZXIueCArIGR4IDw9IDApIHtcbiAgICAgICAgICAgICAgICB0aGlzLnBsYXlBbmdsZSA9IDE4MCAtIHRoaXMucGxheUFuZ2xlO1xuICAgICAgICAgICAgICAgIGR4ID0gLWR4O1xuICAgICAgICAgICAgfSBlbHNlIGlmICh0aGlzLmJvYXJkLmJ1YmJsZVNob290ZXIueCArIGR4ICsgdGhpcy5ib2FyZC5idWJibGVEaWFtZXRlciA+PSB0aGlzLmNhbnZhcy53aWR0aCkge1xuICAgICAgICAgICAgICAgIHRoaXMucGxheUFuZ2xlID0gMTgwIC0gdGhpcy5wbGF5QW5nbGU7XG4gICAgICAgICAgICAgICAgZHggPSAtZHg7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjb25zdCBpc0NvbGxpc2lvbiA9IHRoaXMuYm9hcmQuY2hlY2tDb2xsaXNpb24oKTtcbiAgICAgICAgICAgIGlmIChpc0NvbGxpc2lvbikge1xuICAgICAgICAgICAgICAgIHRoaXMucmVzZXRBZnRlckNvbGxpc2lvbigpO1xuICAgICAgICAgICAgICAgIGNsZWFySW50ZXJ2YWwoaW50ZXJ2YWwpO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICB0aGlzLmJvYXJkLmJ1YmJsZVNob290ZXIuY2xlYXJBcmModGhpcy5ib2FyZC5jdHgpO1xuICAgICAgICAgICAgICAgIHRoaXMuYm9hcmQuYnViYmxlU2hvb3Rlci54ID0gdGhpcy5ib2FyZC5idWJibGVTaG9vdGVyLnggKyBkeDtcbiAgICAgICAgICAgICAgICB0aGlzLmJvYXJkLmJ1YmJsZVNob290ZXIueSA9IHRoaXMuYm9hcmQuYnViYmxlU2hvb3Rlci55IC0gZHk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBcbiAgICAgICAgICAgIHRoaXMuYm9hcmQuZHJhd0J1YmJsZVNob290ZXIoKTtcblxuICAgICAgICB9LCAxMDAwIC8gNjApO1xuICAgIH1cblxuICAgIHN0YXJ0KCkge1xuICAgICAgICB0aGlzLmJvYXJkLmxvYWRJbml0aWFsR2FtZSgpO1xuICAgIH1cblxuICAgIHJhZFRvRGVnKGFuZ2xlKSB7XG4gICAgICAgIHJldHVybiBhbmdsZSAqICgxODAgLyBNYXRoLlBJKTtcbiAgICB9XG5cbiAgICBkZWdUb1JhZChhbmdsZSkge1xuICAgICAgICByZXR1cm4gYW5nbGUgKiAoTWF0aC5QSSAvIDE4MCk7XG4gICAgfVxuXG4gICAgb25Nb3VzZU1vdmUoZSkge1xuICAgICAgICBpZiAodGhpcy5zaG9vdGVyTW92aW5nID09PSBmYWxzZSkge1xuICAgICAgICAgICAgY29uc3QgcG9zID0gdGhpcy5nZXRNb3VzZVBvcyh0aGlzLmNhbnZhcywgZSk7XG4gICAgICAgICAgICBsZXQgbW91c2VhbmdsZSA9IHRoaXMucmFkVG9EZWcoXG4gICAgICAgICAgICAgICAgTWF0aC5hdGFuMihcbiAgICAgICAgICAgICAgICAgICAgKHRoaXMuYm9hcmQuYnViYmxlU2hvb3RlclkgKyB0aGlzLmJvYXJkLmJ1YmJsZURpYW1ldGVyKSAtIHBvcy55LCBcbiAgICAgICAgICAgICAgICAgICAgcG9zLnggLSAodGhpcy5ib2FyZC5idWJibGVTaG9vdGVyWCArIHRoaXMuYm9hcmQuYnViYmxlRGlhbWV0ZXIpXG4gICAgICAgICAgICAgICAgKVxuICAgICAgICAgICAgKTtcbiAgICAgICAgICAgIGlmIChtb3VzZWFuZ2xlIDwgMCkge1xuICAgICAgICAgICAgICAgIG1vdXNlYW5nbGUgPSAxODAgKyAoMTgwICsgbW91c2VhbmdsZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjb25zdCBsYm91bmQgPSAxNTtcbiAgICAgICAgICAgIGNvbnN0IHVib3VuZCA9IDE2NTtcbiAgICAgICAgICAgIGlmIChtb3VzZWFuZ2xlID4gOTAgJiYgbW91c2VhbmdsZSA8IDI3MCkge1xuICAgICAgICAgICAgICAgIGlmIChtb3VzZWFuZ2xlID4gdWJvdW5kKSB7XG4gICAgICAgICAgICAgICAgICAgIG1vdXNlYW5nbGUgPSB1Ym91bmQ7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICBpZiAobW91c2VhbmdsZSA8IGxib3VuZCB8fCBtb3VzZWFuZ2xlID49IDI3MCkge1xuICAgICAgICAgICAgICAgICAgICBtb3VzZWFuZ2xlID0gbGJvdW5kO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHRoaXMucGxheUFuZ2xlID0gbW91c2VhbmdsZTtcbiAgICAgICAgICAgIHRoaXMuZHJhd01vdXNlTGluZSgpO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgb25Nb3VzZURvd24oZSkge1xuICAgICAgICBpZiAodGhpcy5wbGF5QW5nbGUgJiYgdGhpcy5zaG9vdGVyTW92aW5nID09PSAgZmFsc2UpIHtcbiAgICAgICAgICAgIGlmKHRoaXMuZ2FtZU92ZXIpIHtcbiAgICAgICAgICAgICAgICB0aGlzLmxvYWROZXdHYW1lKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAodGhpcy5yZWFkeSkgeyBcbiAgICAgICAgICAgICAgICB0aGlzLnNob290ZXJNb3ZpbmcgPSB0cnVlO1xuICAgICAgICAgICAgICAgIHRoaXMuY3VycmVudE1vdmVDb3VudCArPSAxO1xuICAgICAgICAgICAgICAgIHRoaXMucGxheSgpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuXG4gICAgZ2V0TW91c2VQb3MoY2FudmFzLCBlKSB7XG4gICAgICAgIHZhciByZWN0ID0gY2FudmFzLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpO1xuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgeDogTWF0aC5yb3VuZCgoZS5jbGllbnRYIC0gcmVjdC5sZWZ0KSAvIChyZWN0LnJpZ2h0IC0gcmVjdC5sZWZ0KSAqIGNhbnZhcy53aWR0aCksXG4gICAgICAgICAgICB5OiBNYXRoLnJvdW5kKChlLmNsaWVudFkgLSByZWN0LnRvcCkgLyAocmVjdC5ib3R0b20gLSByZWN0LnRvcCkgKiBjYW52YXMuaGVpZ2h0KVxuICAgICAgICB9O1xuICAgIH1cblxuICAgIC8vIFJlbmRlciB0aGUgYW5nbGUgb2YgdGhlIG1vdXNlXG4gICAgZHJhd01vdXNlTGluZSgpIHtcbiAgICAgICAgdmFyIGNlbnRlcnggPSAyMzAgKyB0aGlzLmJvYXJkLmJ1YmJsZURpYW1ldGVyIC8gMjtcbiAgICAgICAgdmFyIGNlbnRlcnkgPSA1NTAgKyB0aGlzLmJvYXJkLmJ1YmJsZURpYW1ldGVyIC8gMjtcbiAgICAgICAgdmFyIGN0eCA9IHRoaXMuYm9hcmQuY3R4O1xuICAgICAgICBjdHguY2xlYXJSZWN0KDE1MCwgNDgwLCAyMDAsIDkwKTtcbiAgICAgICAgY3R4LmxpbmVXaWR0aCA9IDI7XG4gICAgICAgIGN0eC5zdHJva2VTdHlsZSA9IFwiI2ZmZlwiO1xuICAgICAgICBjdHguYmVnaW5QYXRoKCk7XG4gICAgICAgIGN0eC5zZXRMaW5lRGFzaChbNSwxMF0pO1xuICAgICAgICBjdHgubW92ZVRvKGNlbnRlcngsIGNlbnRlcnkpO1xuICAgICAgICBjdHgubGluZVRvKFxuICAgICAgICAgICAgY2VudGVyeCArIDIgKiB0aGlzLmJvYXJkLmJ1YmJsZURpYW1ldGVyICogTWF0aC5jb3ModGhpcy5kZWdUb1JhZCh0aGlzLnBsYXlBbmdsZSkpLFxuICAgICAgICAgICAgY2VudGVyeSAtIDIgKiB0aGlzLmJvYXJkLmJ1YmJsZURpYW1ldGVyICogTWF0aC5zaW4odGhpcy5kZWdUb1JhZCh0aGlzLnBsYXlBbmdsZSkpKTtcbiAgICAgICAgY3R4LnN0cm9rZSgpO1xuICAgIH1cbn1cblxuZXhwb3J0IGRlZmF1bHQgR2FtZTsiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./src/js/game.js\n");

/***/ }),

/***/ "./src/main.js":
/*!*********************!*\
  !*** ./src/main.js ***!
  \*********************/
/*! no exports provided */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _js_game__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./js/game */ \"./src/js/game.js\");\n/* harmony import */ var _js_board__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./js/board */ \"./src/js/board.js\");\n\n\n\ndocument.addEventListener(\"DOMContentLoaded\", function () {\n    var canvas = document.getElementById(\"bubble-shooter-game\");\n\n    const ctx = canvas.getContext(\"2d\");\n\n    const game = new _js_game__WEBPACK_IMPORTED_MODULE_0__[\"default\"](ctx, canvas);\n    game.start();\n    canvas.addEventListener(\"mousemove\", game.onMouseMove);\n    canvas.addEventListener(\"mousedown\", game.onMouseDown);\n});//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zcmMvbWFpbi5qcz81NmQ3Il0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBO0FBQUE7QUFBQTtBQUE2QjtBQUNFOztBQUUvQjtBQUNBOztBQUVBOztBQUVBLHFCQUFxQixnREFBSTtBQUN6QjtBQUNBO0FBQ0E7QUFDQSxDQUFDIiwiZmlsZSI6Ii4vc3JjL21haW4uanMuanMiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgR2FtZSBmcm9tICcuL2pzL2dhbWUnO1xuaW1wb3J0IEJvYXJkIGZyb20gJy4vanMvYm9hcmQnO1xuXG5kb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKFwiRE9NQ29udGVudExvYWRlZFwiLCBmdW5jdGlvbiAoKSB7XG4gICAgdmFyIGNhbnZhcyA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwiYnViYmxlLXNob290ZXItZ2FtZVwiKTtcblxuICAgIGNvbnN0IGN0eCA9IGNhbnZhcy5nZXRDb250ZXh0KFwiMmRcIik7XG5cbiAgICBjb25zdCBnYW1lID0gbmV3IEdhbWUoY3R4LCBjYW52YXMpO1xuICAgIGdhbWUuc3RhcnQoKTtcbiAgICBjYW52YXMuYWRkRXZlbnRMaXN0ZW5lcihcIm1vdXNlbW92ZVwiLCBnYW1lLm9uTW91c2VNb3ZlKTtcbiAgICBjYW52YXMuYWRkRXZlbnRMaXN0ZW5lcihcIm1vdXNlZG93blwiLCBnYW1lLm9uTW91c2VEb3duKTtcbn0pOyJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./src/main.js\n");

/***/ })

/******/ });